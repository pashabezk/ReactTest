{"version":3,"file":"static/js/826.86f18f93.chunk.js","mappings":"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","sources":["webpack://social-network/./src/Components/Common/Paginator/Paginator.module.css?bc9e","Components/Common/Paginator/Paginator.jsx","webpack://social-network/./src/Components/Users/users.module.css?917c","Components/Users/User.jsx","Components/Users/Users.jsx","redux/users-selectors.js","Components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"paginator\":\"Paginator_paginator__2pGOK\",\"selectedPage\":\"Paginator_selectedPage__S2gwv\",\"pageNumber\":\"Paginator_pageNumber__IV94D\"};","import React, {useState} from \"react\";\r\nimport styles from './Paginator.module.css';\r\n\r\nlet Paginator = (props) => {\r\n\tlet pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n\tconst portionSize = 10;\r\n\tconst portionCount = Math.ceil(pagesCount / portionSize);\r\n\tconst [portionNumber, setPortionNumber] = useState(1);\r\n\tconst leftPartionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tconst rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\tlet pages = [];\r\n\tfor (let i = leftPartionPageNumber; i <= rightPortionPageNumber; i++) {\r\n\t\tpages.push(i);\r\n\t\t// if (pages.length > 10)\r\n\t\t// \tbreak;\r\n\t}\r\n\t// pages.push(pagesCount - 2);\r\n\t// pages.push(pagesCount - 1);\r\n\t// pages.push(pagesCount);\r\n\r\n\treturn (\r\n\t\t<div class={styles.paginator}>\r\n\t\t\t{\r\n\t\t\t\tportionNumber > 1 &&\r\n\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\tsetPortionNumber(portionNumber - 1)\r\n\t\t\t\t}}>prev</button>\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tpages.map(p => {\r\n\t\t\t\t\treturn <span key={p + \"page\"}\r\n\t\t\t\t\t\t\t\t className={styles.pageNumber + \" \" + (props.currentPage === p ? styles.selectedPage : \"\")}\r\n\t\t\t\t\t\t\t\t onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t props.onPageChanged(p);\r\n\t\t\t\t\t\t\t\t }}>\r\n\t\t\t\t\t\t\t{p}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tportionCount > portionNumber &&\r\n\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\tsetPortionNumber(portionNumber + 1)\r\n\t\t\t\t}}>next</button>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Paginator;","// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"users_userPhoto__YPh+a\"};","import React from \"react\";\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\n\r\nlet User = (props) => {\r\n\tlet user = props.user;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<span>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to={\"/profile/\" + user.id}>\r\n\t\t\t\t\t\t<img className={styles.userPhoto} alt=\"user\"\r\n\t\t\t\t\t\t\t src={user.photos.small != null ? user.photos.small : userPhoto}/>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuser.followed\r\n\t\t\t\t\t\t\t? <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\t  onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t  props.unfollow(user.id)\r\n\t\t\t\t\t\t\t\t\t  }}>Unfollow</button>\r\n\t\t\t\t\t\t\t: <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\t  onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t  props.follow(user.id)\r\n\t\t\t\t\t\t\t\t\t  }}>Follow</button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.followingInProgress.some(id => id === user.id)\r\n\t\t\t\t\t\t\t? <Preloader size=\"20px\"/> : null\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>{user.name}</div>\r\n\t\t\t\t\t<div>{user.status}</div>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>{\"u.location.country\"}</div>\r\n\t\t\t\t\t<div>{\"u.location.city\"}</div>\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = (props) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Paginator currentPage={props.currentPage}\r\n\t\t\t\t\t   onPageChanged={props.onPageChanged}\r\n\t\t\t\t\t   totalUsersCount={props.totalUsersCount}\r\n\t\t\t\t\t   pageSize={props.pageSize}\r\n\t\t\t/>\r\n\t\t\t{\r\n\t\t\t\tprops.users.map(u => <User key={u.id}\r\n\t\t\t\t\t\t\t\t\t\t   user={u}\r\n\t\t\t\t\t\t\t\t\t\t   followingInProgress={props.followingInProgress}\r\n\t\t\t\t\t\t\t\t\t\t   unfollow={props.unfollow}\r\n\t\t\t\t\t\t\t\t\t\t   follow={props.follow}/>)\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n}\r\n\r\n// export const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n// \treturn users.filter(u => u);\r\n// })\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress;\r\n}","import {follow, setCurrentPage, unfollow, toggleFollowingProgress, requestUsers} from \"../../redux/users-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n\r\n\t\t// this.props.toggleIsFetching(true);\r\n\t\t//\r\n\t\t// usersAPI.getUsers(this.props.currentPage, this.props.pageSize)\r\n\t\t// \t.then(data => {\r\n\t\t// \t\tthis.props.setUsers(data.items);\r\n\t\t// \t\tthis.props.setTotalUsersCount(data.totalCount);\r\n\t\t// \t\tthis.props.toggleIsFetching(false);\r\n\t\t// \t});\r\n\t}\r\n\r\n\tonPageChanged = (page) => {\r\n\t\tthis.props.getUsers(page, this.props.pageSize);\r\n\t\t// this.props.setCurrentPage(page);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{this.props.isFetching ? <Preloader/> : null}\r\n\t\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t\t   pageSize={this.props.pageSize}\r\n\t\t\t\t\t   currentPage={this.props.currentPage}\r\n\t\t\t\t\t   onPageChanged={this.onPageChanged}\r\n\t\t\t\t\t   users={this.props.users}\r\n\t\t\t\t\t   follow={this.props.follow}\r\n\t\t\t\t\t   unfollow={this.props.unfollow}\r\n\t\t\t\t\t   followingInProgress={this.props.followingInProgress}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n// \treturn {\r\n// \t\tfollow: (userId) => {\r\n// \t\t\tdispatch(followAC(userId));\r\n// \t\t},\r\n// \t\tunfollow: (userId) => {\r\n// \t\t\tdispatch(unfollowAC(userId));\r\n// \t\t},\r\n// \t\tsetUsers: (users) => {\r\n// \t\t\tdispatch(setUsersAC(users));\r\n// \t\t},\r\n// \t\tsetCurrentPage: (pageNumber) => {\r\n// \t\t\tdispatch(setCurrentPageAC(pageNumber));\r\n// \t\t},\r\n// \t\tsetTotalUsersCount: (totalCount) => {\r\n// \t\t\tdispatch(setUsersTotalCountAC(totalCount));\r\n// \t\t},\r\n// \t\ttoggleIsFetching: (isFetching) => {\r\n// \t\t\tdispatch(toggleIsFetchingAC(isFetching));\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\nlet mapDispatchToProps = {\r\n\tfollow, unfollow,\r\n\tsetCurrentPage, toggleFollowingProgress,\r\n\tgetUsers: requestUsers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer)"],"names":["props","pagesCount","Math","ceil","totalUsersCount","pageSize","portionCount","useState","portionNumber","setPortionNumber","rightPortionPageNumber","pages","i","push","class","styles","onClick","map","p","className","currentPage","e","onPageChanged","user","to","id","alt","src","photos","small","userPhoto","followed","disabled","followingInProgress","some","unfollow","follow","Preloader","size","name","status","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","page","this","React","mapDispatchToProps","setCurrentPage","toggleFollowingProgress","requestUsers","connect"],"sourceRoot":""}